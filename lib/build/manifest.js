// Generated by CoffeeScript 2.5.1
(function() {
  var YAML, ensureDirExists;

  YAML = require('yaml');

  ({ensureDirExists} = require('../util'));

  exports.buildManifest = async function() {
    var json, manifest, source;
    ensureDirExists(`${DIST}/icons`);
    await IO.copy(`${SRC}/icons/icon.192x192.png`, `${DIST}/icons/icon.192x192.png`);
    source = (await IO.read(`${SRC}/manifest.yml`));
    manifest = YAML.parse(source);
    json = JSON.stringify(manifest, null, 2);
    return (await IO.write(`${DIST}/manifest.webmanifest`, json));
  };

}).call(this);
